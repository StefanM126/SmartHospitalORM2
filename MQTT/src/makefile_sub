CC       = g++
LIBS     = -lmosquittopp
IDIR = ../inc
CXXFLAGS = -g -Wall -c -I${IDIR}

ODIR = ../obj
SDIR = src

FNAME = sub

_OBJ = submain.o subscriber.o actuator.o
OBJ  = $(patsubst %, ${ODIR}/%, ${_OBJ})

_DEPS = actuator.h subscriber.h
DEPS  = $(patsubst %, ${IDIR}/%, ${_DEPS})


.PHONY: all
all: ${FNAME}

${FNAME}: ${OBJ}
	${CC} ${OBJ} -o $@ ${LIBS}
	
${ODIR}/%.o : %.cpp ${DEPS}
	${CC} ${CXXFLAGS} -o $@ $<
	
	
.PHONY: clean
clean: 
	rm ${ODIR}/*.o ${FNAME}
	
	
